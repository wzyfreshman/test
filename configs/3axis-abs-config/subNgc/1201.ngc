

o<1201> sub

	G53G0Z0
	G53G0Y0
	G55

m66p1l0q0

O001 if[#5399 EQ 1]

	m66p3l0q0
	O011 if[#5399 NE 1]

		m66p4l0q0
		O012 if[#5399 NE 1]
			(debug,当前大气缸已经在中间位，处于B面，退出程序)

		O012 else

			(debug,当前处于C面，大气缸进)
			(########大气缸进##########)
			M65P12
			M64P10
			G4P#3624
			m66p4l0q0
			O013 if[#5399 EQ 1]
			(debug,检测到大气缸退到位信号，退出程序)
			M30		
			O013 endif
			(debug,大气缸已经在中间位，处于B面)

		O012 endif

	O011 else

		(########A转B##########)
	
		(debug,当前处于A面，先退回C面)
		(####小气缸退#####)
		M65P9
		M64P11
		
		(########大气缸退##########)
		M65P10
		M64P12
		m66p4l3q10
		O013 if[#5399 NE 1]
			(debug,检测不到大气缸退到位信号，退出程序)
			M30		
		O013 endif
	
		(####小气缸进#####)
		M65P11
		M64P9
		m66p1l3q10
		O014 if[#5399 NE 1]
			(debug,检测不到小气缸进到位信号，退出程序)
			M30
		O014 endif
		(########大气缸进##########)
		M65P12
		M64P10
		G4P#3624
		m66p4l0q0
			O013 if[#5399 EQ 1]
			(debug,检测到大气缸退到位信号，退出程序)
			M30		
			O013 endif
		(debug,大气缸已经在中间位，处于B面)

	O011 endif

O001 else

	
		
	(########A转B##########)
	m66p3l0q0
	
	O002 if[#5399 EQ 1]
	
		(debug,当前处于A面，先退回C面)
		(####小气缸退#####)
		M65P9
		M64P11
		
		(########大气缸退##########)
		M65P10
		M64P12
		m66p4l3q10
		O013 if[#5399 NE 1]
			(debug,检测不到大气缸退到位信号，退出程序)
			M30		
		O013 endif
	
	
	O002 endif
	
	(####小气缸进#####)
	M65P11
	M64P9
	m66p1l3q10
	O014 if[#5399 NE 1]
		(debug,检测不到小气缸进到位信号，退出程序)
		M30
	O014 endif
	(########大气缸进##########)
	M65P12
	M64P10
	G4P#3624
	m66p4l0q0
			O013 if[#5399 EQ 1]
			(debug,检测到大气缸退到位信号，退出程序)
			M30		
			O013 endif
	(debug,大气缸已经在中间位，处于B面)
	



O001 endif


o<1201> endsub
